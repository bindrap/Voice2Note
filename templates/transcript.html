{% extends "base.html" %}

{% block title %}Transcript - {{ video.title }}{% endblock %}

{% block content %}
<div class="container">
    <div class="notes-header">
        <div class="notes-meta">
            <h2>{{ video.title }}</h2>
            {% if video.creator %}
            <p class="creator">by {{ video.creator }}</p>
            {% endif %}
            <div class="meta-info">
                {% if video.duration %}
                <span class="badge">{{ (video.duration // 60) }} minutes</span>
                {% endif %}
                {% if video.source_url %}
                <span class="badge">
                    <a href="{{ video.source_url }}" target="_blank" style="color: inherit; text-decoration: none;">
                        ðŸ”— Source URL
                    </a>
                </span>
                {% endif %}
                <span class="badge">{{ video.source_type }}</span>
            </div>
        </div>
        <div class="notes-actions">
            <a href="/notes/{{ video.id }}" class="btn btn-primary">View Notes</a>
            <a href="/download-transcript/{{ video.id }}" class="btn btn-secondary">ðŸ“¥ Download Transcript</a>
            <a href="/history" class="btn btn-secondary">Back to History</a>
        </div>
    </div>

    <div class="transcript-content">
        <div class="transcript-header">
            <h3>Raw Transcript</h3>
            <p class="text-muted">This is the original transcription before AI enhancement</p>
        </div>
        <div class="transcript-text">
            {{ transcript.content | safe }}
        </div>
    </div>
</div>

<style>
.transcript-content {
    background: var(--card-bg);
    padding: 2rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.transcript-header {
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border-color);
}

.transcript-header h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.transcript-text {
    background: var(--bg-color);
    padding: 2rem;
    border-radius: 8px;
    line-height: 1.8;
    white-space: pre-wrap;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    color: var(--text-color);
    max-height: 600px;
    overflow-y: auto;
}

.transcript-text::-webkit-scrollbar {
    width: 8px;
}

.transcript-text::-webkit-scrollbar-track {
    background: var(--card-bg);
    border-radius: 4px;
}

.transcript-text::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 4px;
}

.transcript-text::-webkit-scrollbar-thumb:hover {
    background: var(--secondary-color);
}

@media (max-width: 768px) {
    .transcript-content {
        padding: 1.5rem;
    }

    .transcript-text {
        padding: 1rem;
        max-height: 400px;
    }
}
</style>
{% endblock %}
